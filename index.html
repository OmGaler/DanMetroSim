<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gush Dan Mass Transit Visualator (Visual-Simulator)</title>
    <link rel="stylesheet" href="style.css" />
    <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />
    <script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
    <script src="https://unpkg.com/@turf/turf/turf.min.js"></script>
</head>

<body>
    <div class="legend">
        <div class="legend-row">
            <span class="bullet red">R</span>
            <span class="bullet green">G</span>
            <span class="bullet purple">P</span>
            &ensp;Light Rail
        </div>
        <div class="legend-row">
            <span class="bullet one">1</span>
            <span class="bullet two">2</span>
            <span class="bullet three">3</span>
            &ensp;Metro
        </div>
    </div>
    <button id="pause"><ion-icon name="pause"></ion-icon></button>
    <button id="settings"><ion-icon name="settings-outline"></ion-icon></button>

    <div id="simulationControls">
        <select id="dayTypeSelect">
            <option value="weekday">Weekday (Su-Th)</option>
            <option value="weekend">Weekend (F-S)</option>
        </select>
        
        <label for="timePeriodSelect">Time:</label>
        <select id="timePeriodSelect"></select>
        
        <script>
        document.addEventListener("DOMContentLoaded", function () {
            const dayTypeSelect = document.getElementById("dayTypeSelect");
            const timePeriodSelect = document.getElementById("timePeriodSelect");
        
            // Define time period options for each day type
            const timePeriods = {
                weekday: [
                    { value: "early_late", text: "Early Morning/Late Night" },
                    { value: "morning_evening", text: "Morning/Evening" },
                    { value: "peaks", text: "Morning/Evening Peak" },
                    { value: "midday", text: "Midday" }
                ],
                weekend: [
                    { value: "early", text: "Early Morning (F)" },
                    { value: "morning_peak", text: "Morning Peak (F)" },
                    { value: "midday", text: "Midday 09:00-1hr before Sh" },
                    { value: "evening", text: "1hr after Sh-22:00" },
                    { value: "late", text: "Late Night (S)" }
                ]
            };
        
            function updateTimePeriodOptions() {
                const selectedDayType = dayTypeSelect.value;
        
                // Clear existing options
                timePeriodSelect.innerHTML = "";
        
                // Add new options based on selected day type
                timePeriods[selectedDayType].forEach(option => {
                    const opt = document.createElement("option");
                    opt.value = option.value;
                    opt.textContent = option.text;
                    timePeriodSelect.appendChild(opt);
                });
            }
        
            // Initialize default options
            updateTimePeriodOptions();
        
            // Update options when selection changes
            dayTypeSelect.addEventListener("change", updateTimePeriodOptions);
        });
        </script>
        </select>
    </div>
    <div id="map"></div>
    <!-- Settings Modal -->
    <div id="settingsModal" class="modal">
        <div class="modal-content">
            <span class="close" title="Close Settings">&times;</span>
            <h2>Settings</h2>
            <!-- Add settings controls here -->
            <p>Configure simulation parameters below.</p>
        </div>
    </div>
    <script src="script.js"></script>
    <!-- for icons -->
    <script type="module" src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.esm.js"></script>
    <script nomodule src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.js"></script>
</body>

</html>

<!-- <ion-icon name="calendar"></ion-icon>
<ion-icon name="time"></ion-icon>
<ion-icon name="play-forward"></ion-icon>
<ion-icon name="play-forward"></ion-icon> -->
<!-- <ion-icon name="refresh"></ion-icon> -->


<!-- in the settings modal have stats on lines, no stations, length, freq., annual pax -->
<!-- in the settings modal, display the frequencies for the selected service time/day -->